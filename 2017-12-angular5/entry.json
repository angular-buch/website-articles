{"slug":"2017-12-angular5","html":"<blockquote>\n<p><strong>Die Update-Infos für neuere Versionen von Angular finden Sie in separaten Blogartikeln. Wenn Sie das Update durchführen möchten, lesen Sie bitte alle Artikel in der gegebenen Reihenfolge.</strong></p>\n<ul>\n<li><a href=\"/blog/2018-05-angular6\">Angular 6 ist da!</a></li>\n<li><a href=\"/blog/2018-10-angular7\">Angular 7 ist da!</a></li>\n<li><a href=\"/blog/2019-06-angular8\">Angular 8 ist da!</a></li>\n<li><a href=\"/blog/2020-02-angular9\">Angular 9 ist da!</a></li>\n<li><a href=\"/blog/2020-06-angular10\">Angular 10 ist da!</a></li>\n<li><a href=\"/blog/2020-11-angular11\">Angular 11 ist da!</a></li>\n<li><a href=\"/blog/2021-06-angular12\">Angular 12 ist da!</a></li>\n<li><a href=\"/blog/2021-11-angular13\">Angular 13 ist da!</a></li>\n<li><a href=\"/blog/2022-06-angular14\">Angular 14 ist da!</a></li>\n<li><a href=\"/blog/2022-11-angular15\">Angular 15 ist da!</a></li>\n<li><a href=\"/blog/2023-05-angular16\">Angular 16 ist da!</a></li>\n</ul>\n</blockquote>\n<br>\n<br>\n\n<p>Angular 5 ist da! Anfang November 2017 erschien die neue Major-Version von Angular und bringt einige Neuerungen mit sich. Die gute Nachricht: Ihre alten Projekte mit Angular 4 sind weiterhin lauffähig – nur an einigen wenigen Stellen müssen Kleinigkeiten angepasst werden.</p>\n<p>Die offizielle Ankündigung zum Angular-5-Release finden Sie im <a href=\"https://blog.angular.io/version-5-0-0-of-angular-now-available-37e414935ced\">Angular-Blog</a>.\nFür Details zu einzelnen Änderungen lohnt sich außerdem ein Blick in den <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\">Changelog von Angular</a>.\nBeim Update auf Angular 5 hilft der <a href=\"https://update.angular.io/#4.0:5.0\">Angular Update Guide</a>. Das Tool stellt eine Checkliste und die passenden Befehle für das Update bereit.</p>\n<p><strong>Auch für die Leser unseres Angular-Buchs hat sich nicht viel geändert!</strong></p>\n<p>In diesem Blogpost stellen wir Ihnen im Folgenden die wichtigsten Neuerungen vor.\nZu einzelnen Themen haben wir drei weitere separate Artikel verfasst, um Ihnen einen fundierten Überblick zu geben.</p>\n<ul>\n<li><a href=\"/blog/2017-12-book-monkey-upgrade\">Angular 5: Den Book-Monkey upgraden</a></li>\n<li><a href=\"/blog/2017-12-ng5-i18n\">Angular 5: Änderungen für i18n</a></li>\n<li><a href=\"/blog/2017-11-httpclient\">Angular 4.3: Der neue HttpClient</a></li>\n</ul>\n<h2 id=\"build-optimizer--white-spaces\">Build Optimizer / White Spaces</h2>\n<p>In Projekten mit Angular 5 und der aktuellen Angular CLI (ab Version 1.5) ist ab sofort automatisch der <em>Build Optimizer</em> aktiv.\nDadurch wird die effektive Bundle-Größe weiter reduziert und die Start-Performance verbessert.</p>\n<p>Außerdem wurde für den Compiler die neue Option <code>preserveWhitespaces</code> eingeführt.\nWird die Option deaktiviert, werden White Space Characters in den Templates automatisch entfernt – und damit die Bundle-Größe weiter reduziert.\nDie Option kann in den Komponenten oder global in der <code>tsconfig.app.json</code> angepasst werden.</p>\n<pre><code class=\"language-js\"><span class=\"hljs-string\">//</span> tsconfig.app.json\n{\n  <span class=\"hljs-string\">//</span> <span class=\"hljs-string\">...</span>\n  <span class=\"hljs-string\">&quot;angularCompilerOptions&quot;</span>: {\n    <span class=\"hljs-string\">&quot;preserveWhitespaces&quot;</span>: <span class=\"hljs-literal\">false</span>\n  }\n}\n</code></pre>\n<pre><code class=\"language-typescript\"><span class=\"hljs-regexp\">//</span> my.component.ts\n@Component({\n  template: <span class=\"hljs-string\">&#x27;...&#x27;</span>,\n  preserveWhitespaces: <span class=\"hljs-literal\">false</span>\n})\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyComponent</span>\n</code></pre>\n<p>In einzelnen Blöcken können wir die Whitespace Preservation schließlich wieder selektiv aktivieren:</p>\n<pre><code class=\"language-html\"><span class=\"hljs-comment\">&lt;!-- my.component.html --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">ngPreserveWhitespaces</span>&gt;</span>\n  White Spaces werden in diesem Block erhalten\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>\n<p>Weitere Infos zu <code>preserveWhitespaces</code> finden Sie in der <a href=\"https://angular.io/api/core/Component#preserveWhitespaces\">offiziellen Dokumentation</a>.</p>\n<h2 id=\"lokalisierte-pipes\">Lokalisierte Pipes</h2>\n<p>Einige der eingebauten Pipes basieren auf lokalisierten Informationen: <code>DatePipe</code>, <code>DecimalPipe</code> und <code>CurrencyPipe</code>.\nBisher war für die Lokalisierung ein Polyfill nötig. In Angular 5 wurde das Polyfill entfernt und die Lokalisierung wurde mit anderen Regeln gelöst.</p>\n<p>Damit ändern sich allerdings folgende Feinheiten:</p>\n<ul>\n<li>Die oben genannten Pipes verhalten sich zu Teil anders und haben geänderte Signaturen.</li>\n<li>Zum Einstellen der Sprache sind zusätzliche Schritte nötig.</li>\n</ul>\n<p><strong>Mehr zu dem Thema erfahren Sie demnächst in unserem zusätzlichen Blogartikel: <a href=\"/blog/2017-12-ng5-i18n\">Angular 5: Änderungen für i18n</a>.</strong></p>\n<h2 id=\"httpclient\">HttpClient</h2>\n<p>Mit <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#430-2017-07-14\">Angular 4.3</a> wurde der neue <code>HttpClient</code> eingeführt – und löst damit das <code>HttpModule</code> ab, das wir Kapitel 10.1 im Angular-Buch beschrieben haben.\nDer neue <code>HttpClient</code> wird weitgehend gleich verwendet, allerdings entfällt ein wesentlicher Schritt: die manuelle Umwandlung von JSON mit <code>res.json()</code>.</p>\n<p>Außerdem bietet der <code>HttpClient</code> zusätzliche Features wie verbesserte Typisierung und die Möglichkeit, auf tieferer Ebene manuell in HTTP-Requests einzugreifen.</p>\n<p>Wir empfehlen Ihnen die Migration auf das neue Modul.\n<strong>Alle Details zum neuen HttpClient finden Sie in unserem Blogartikel: <a href=\"/blog/2017-11-httpclient\">Angular 4.3: Der neue HttpClient</a></strong></p>\n<h2 id=\"rxjs-pipeable-operators-ehemals-lettable\">RxJS Pipeable Operators (ehemals <em>Lettable</em>)</h2>\n<p>Mit Angular 5 wurde <em>RxJS</em> auf die neueste Version 5.5 aktualisiert.\nDamit kommt auch das Konzept der <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md\">Pipeable Operators</a> in die Angular-Welt.\n(<strong>Achtung:</strong> Pipeable Operators sind auch bekannt unter dem alten Namen <em>Lettable Operators</em>.)</p>\n<p>Für den Entwickler ändert sich dabei die Verwendung der RxJS-Operatoren.\nAnstatt die Operatoren zu verketten, wird ab sofort die Methode <code>pipe()</code> eingesetzt.\nSie erhält als Argumente die gesamte Pipeline von Operatoren.\nDie Operatoren werden weiterhin einzeln importiert, allerdings als <em>Named Imports</em> aus dem zentralen Modul <code>rxjs/operators</code>.</p>\n<p>Das folgende Beispiel ist aus dem <em>Listing 10-31</em> aus dem Angular-Buch entnommen:</p>\n<pre><code class=\"language-typescript\"><span class=\"hljs-comment\">// Originales Beispiel aus dem Buch</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;rxjs/add/operator/debounceTime&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;rxjs/add/operator/distinctUntilChanged&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;rxjs/add/operator/switchMap&#x27;</span>;\n<span class=\"hljs-comment\">// ...</span>\n\nthis.keyup\n  .debounceTime(<span class=\"hljs-number\">500</span>)\n  .distinctUntilChanged()\n  .switchMap(<span class=\"hljs-function\"><span class=\"hljs-params\">searchTerm</span> =&gt;</span> this.bs.getAllSearch(searchTerm))\n  .subscribe(<span class=\"hljs-function\"><span class=\"hljs-params\">books</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(books));\n</code></pre>\n<pre><code class=\"language-typescript\"><span class=\"hljs-comment\">// mit Lettable Operators</span>\n<span class=\"hljs-keyword\">import</span> { debounceTime, distinctUntilChanged, switchMap } from <span class=\"hljs-string\">&#x27;rxjs/operators&#x27;</span>;\n\nthis.keyup.pipe(\n  debounceTime(<span class=\"hljs-number\">500</span>),\n  distinctUntilChanged(),\n  switchMap(<span class=\"hljs-function\"><span class=\"hljs-params\">searchTerm</span> =&gt;</span> this.bs.getAllSearch(searchTerm)),\n)\n.subscribe(<span class=\"hljs-function\"><span class=\"hljs-params\">books</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(books));\n</code></pre>\n<p>Wichtig: Einige Operator-Namen haben sich geändert, um Konflikte mit bestehenden Schlüsselworten in JavaScript zu vermeiden.</p>\n<table>\n<thead>\n<tr>\n<th><strong>alt</strong></th>\n<th><strong>neu</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>do()</code></td>\n<td><code>tap()</code></td>\n</tr>\n<tr>\n<td><code>catch()</code></td>\n<td><code>catchError()</code></td>\n</tr>\n<tr>\n<td><code>switch()</code></td>\n<td><code>switchAll()</code></td>\n</tr>\n<tr>\n<td><code>finally()</code></td>\n<td><code>finalize()</code></td>\n</tr>\n</tbody></table>\n<p>Die alten (und im Buch beschriebenen) Imports und verkettbaren Operatoren werden weiterhin unterstützt.\nWir empfehlen Ihnen aber die Migration, denn die neuen Operatoren können wesentlich besser optimiert werden.\nAußerdem können Sie einfach eigene Operatoren entwickeln und in Ihren Pipelines verwenden.</p>\n<h2 id=\"verbesserung-der-build-geschwindigkeit\">Verbesserung der Build-Geschwindigkeit</h2>\n<p>Die Angular CLI 1.5 setzt für den Build nun auf TypeScript Transforms.\nDamit wird der inkrementelle Rebuild bei der Ahead-Of-Time-Kompilierung (AOT) unterstützt, die nun endlich auch zur Entwicklungszeit ohne lange Wartezeit einsetzbar ist:</p>\n<pre><code class=\"language-bash\">ng serve <span class=\"hljs-comment\">--aot</span>\n</code></pre>\n<p>Übrigens: AOT-Kompilierung wird in absehbarer Zeit die JIT-Kompilierung auch zur Entwicklungszeit ablösen.</p>\n<h2 id=\"zusammenfassung\">Zusammenfassung</h2>\n<p>Die neue Angular-Version bringt zwar ein paar kleinere Breaking Changes mit sich, beschert dem Entwickler aber insgesamt viele gute Neuerungen.\nDer Umstieg auf Angular 5 ist in den meisten Projekten ohne große Anpassungen möglich, denn die stabilen APIs haben sich kaum geändert.</p>\n<!--\nAlle wichtigen Neuerungen sind im [Angular-Blog](https://blog.angular.io/version-5-0-0-of-angular-now-available-37e414935ced) zusammengefasst.\n-->\n\n<p><strong>Wir wünschen Ihnen viel Spaß mit Angular 5 und beim Lesen unseres Buchs!</strong></p>\n<hr>\n<p>Lesen Sie hier weiter:</p>\n<ul>\n<li><a href=\"/blog/2017-12-book-monkey-upgrade\">Angular 5: Den Book-Monkey upgraden</a></li>\n<li><a href=\"/blog/2017-12-ng5-i18n\">Angular 5: Änderungen für i18n</a></li>\n<li><a href=\"/blog/2017-11-httpclient\">Angular 4.3: Der neue HttpClient</a></li>\n</ul>\n","meta":{"title":"Angular 5 ist da!","author":"Angular Buch Team","mail":"team@angular-buch.com","published":"2017-12-05T00:00:00.000Z","keywords":["Angular","Angular 5"],"language":"de","thumbnail":"https://website-articles.angular-buch.com/2017-12-angular5/../x_shared/angular5.png"}}
