<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 720 560" fill="none">
  <rect width="720" height="560" rx="8" fill="#173449"/>

  <defs>
    <!-- Database cylinder icon (16×14) -->
    <g id="c">
      <ellipse cx="8" cy="11" rx="6" ry="2.5" opacity="0.5"/>
      <rect x="2" y="3.5" width="12" height="7.5" opacity="0.65"/>
      <ellipse cx="8" cy="3.5" rx="6" ry="2.5"/>
    </g>
    <!-- Empty square (free space) -->
    <g id="s">
      <rect x="2" y="1" width="12" height="12" rx="2" fill="none" stroke="#45475A" stroke-width="1.5"/>
    </g>
    <!-- X-marked square (autocompact) -->
    <g id="x">
      <rect x="2" y="1" width="12" height="12" rx="2" fill="none" stroke="#585B70" stroke-width="1.2"/>
      <line x1="5" y1="3.5" x2="11" y2="10" stroke="#585B70" stroke-width="1"/>
      <line x1="11" y1="3.5" x2="5" y2="10" stroke="#585B70" stroke-width="1"/>
    </g>
  </defs>

  <!-- /context command -->
  <text y="24" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="13">
    <tspan x="16" fill="#F5A97F">❯ </tspan><tspan fill="#CDD6F4" text-decoration="underline">/context</tspan>
  </text>

  <!-- └ Context Usage -->
  <text y="48" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="13">
    <tspan x="30" fill="#6C7086">└ </tspan><tspan fill="#CDD6F4" font-weight="bold">Context Usage</tspan>
  </text>

  <!-- === ICON GRID: sequential layout, 12 cols, each icon ≈ 2k tokens === -->
  <!-- Total: 100 icons = 2W + 8Y + 3O + 51P + 14E + 22X -->

  <!-- Row 0: Summary bar - gray cylinders (overall usage overview) -->
  <g fill="#9399B2" opacity="0.4">
    <use href="#c" x="50" y="60"/><use href="#c" x="70" y="60"/><use href="#c" x="90" y="60"/><use href="#c" x="110" y="60"/><use href="#c" x="130" y="60"/><use href="#c" x="150" y="60"/>
    <use href="#c" x="170" y="60"/><use href="#c" x="190" y="60"/><use href="#c" x="210" y="60"/><use href="#c" x="230" y="60"/><use href="#c" x="250" y="60"/><use href="#c" x="270" y="60"/>
  </g>

  <!-- Row 1: 2× System prompt (white) + 8× System tools (yellow) + 2× Memory files (orange) -->
  <g fill="#CDD6F4">
    <use href="#c" x="50" y="80"/><use href="#c" x="70" y="80"/>
  </g>
  <g fill="#F9E2AF">
    <use href="#c" x="90" y="80"/><use href="#c" x="110" y="80"/><use href="#c" x="130" y="80"/><use href="#c" x="150" y="80"/><use href="#c" x="170" y="80"/><use href="#c" x="190" y="80"/>
    <use href="#c" x="210" y="80"/><use href="#c" x="230" y="80"/>
  </g>
  <g fill="#F5A97F">
    <use href="#c" x="250" y="80"/><use href="#c" x="270" y="80"/>
  </g>

  <!-- Row 2: 1× Memory files (orange) + 11× Messages (purple) -->
  <g fill="#F5A97F">
    <use href="#c" x="50" y="100"/>
  </g>
  <g fill="#CBA6F7">
    <use href="#c" x="70" y="100"/><use href="#c" x="90" y="100"/><use href="#c" x="110" y="100"/><use href="#c" x="130" y="100"/><use href="#c" x="150" y="100"/><use href="#c" x="170" y="100"/>
    <use href="#c" x="190" y="100"/><use href="#c" x="210" y="100"/><use href="#c" x="230" y="100"/><use href="#c" x="250" y="100"/><use href="#c" x="270" y="100"/>
  </g>

  <!-- Row 3: 12× Messages (purple) -->
  <g fill="#CBA6F7">
    <use href="#c" x="50" y="120"/><use href="#c" x="70" y="120"/><use href="#c" x="90" y="120"/><use href="#c" x="110" y="120"/><use href="#c" x="130" y="120"/><use href="#c" x="150" y="120"/>
    <use href="#c" x="170" y="120"/><use href="#c" x="190" y="120"/><use href="#c" x="210" y="120"/><use href="#c" x="230" y="120"/><use href="#c" x="250" y="120"/><use href="#c" x="270" y="120"/>
  </g>

  <!-- Row 4: 12× Messages (purple) -->
  <g fill="#CBA6F7">
    <use href="#c" x="50" y="140"/><use href="#c" x="70" y="140"/><use href="#c" x="90" y="140"/><use href="#c" x="110" y="140"/><use href="#c" x="130" y="140"/><use href="#c" x="150" y="140"/>
    <use href="#c" x="170" y="140"/><use href="#c" x="190" y="140"/><use href="#c" x="210" y="140"/><use href="#c" x="230" y="140"/><use href="#c" x="250" y="140"/><use href="#c" x="270" y="140"/>
  </g>

  <!-- Row 5: 12× Messages (purple) -->
  <g fill="#CBA6F7">
    <use href="#c" x="50" y="160"/><use href="#c" x="70" y="160"/><use href="#c" x="90" y="160"/><use href="#c" x="110" y="160"/><use href="#c" x="130" y="160"/><use href="#c" x="150" y="160"/>
    <use href="#c" x="170" y="160"/><use href="#c" x="190" y="160"/><use href="#c" x="210" y="160"/><use href="#c" x="230" y="160"/><use href="#c" x="250" y="160"/><use href="#c" x="270" y="160"/>
  </g>

  <!-- Row 6: 4× Messages (purple) + 8× Free space (empty squares) -->
  <g fill="#CBA6F7">
    <use href="#c" x="50" y="180"/><use href="#c" x="70" y="180"/><use href="#c" x="90" y="180"/><use href="#c" x="110" y="180"/>
  </g>
  <use href="#s" x="130" y="180"/><use href="#s" x="150" y="180"/><use href="#s" x="170" y="180"/><use href="#s" x="190" y="180"/>
  <use href="#s" x="210" y="180"/><use href="#s" x="230" y="180"/><use href="#s" x="250" y="180"/><use href="#s" x="270" y="180"/>

  <!-- Row 7: 6× Free space (empty squares) + 6× Autocompact (X squares) -->
  <use href="#s" x="50" y="200"/><use href="#s" x="70" y="200"/><use href="#s" x="90" y="200"/><use href="#s" x="110" y="200"/><use href="#s" x="130" y="200"/><use href="#s" x="150" y="200"/>
  <use href="#x" x="170" y="200"/><use href="#x" x="190" y="200"/><use href="#x" x="210" y="200"/><use href="#x" x="230" y="200"/><use href="#x" x="250" y="200"/><use href="#x" x="270" y="200"/>

  <!-- Row 8: 12× Autocompact (X squares) -->
  <use href="#x" x="50" y="220"/><use href="#x" x="70" y="220"/><use href="#x" x="90" y="220"/><use href="#x" x="110" y="220"/><use href="#x" x="130" y="220"/><use href="#x" x="150" y="220"/>
  <use href="#x" x="170" y="220"/><use href="#x" x="190" y="220"/><use href="#x" x="210" y="220"/><use href="#x" x="230" y="220"/><use href="#x" x="250" y="220"/><use href="#x" x="270" y="220"/>

  <!-- Row 9: 4× Autocompact (X squares) -->
  <use href="#x" x="50" y="240"/><use href="#x" x="70" y="240"/><use href="#x" x="90" y="240"/><use href="#x" x="110" y="240"/>

  <!-- === LEGEND (right side) === -->

  <!-- Model info -->
  <text x="340" y="72" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">claude-opus-4-5-20251101 · 127k/200k tokens (63%)</text>

  <!-- System prompt -->
  <circle cx="348" cy="87" r="5" fill="#CDD6F4"/>
  <text x="358" y="92" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">System prompt: 3.0k tokens (1.5%)</text>

  <!-- System tools -->
  <circle cx="348" cy="107" r="5" fill="#F9E2AF"/>
  <text x="358" y="112" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">System tools: 15.3k tokens (7.6%)</text>

  <!-- Memory files -->
  <circle cx="348" cy="127" r="5" fill="#F5A97F"/>
  <text x="358" y="132" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Memory files: 6.8k tokens (3.4%)</text>

  <!-- Skills -->
  <circle cx="348" cy="147" r="5" fill="#F9E2AF" fill-opacity="0.6"/>
  <text x="358" y="152" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Skills: 46 tokens (0.0%)</text>

  <!-- Messages -->
  <circle cx="348" cy="167" r="5" fill="#CBA6F7"/>
  <text x="358" y="172" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Messages: 101.4k tokens (50.7%)</text>

  <!-- Free space -->
  <circle cx="348" cy="187" r="5" fill="none" stroke="#45475A" stroke-width="1.5"/>
  <text x="358" y="192" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Free space: 28k (14.2%)</text>

  <!-- Autocompact buffer -->
  <circle cx="348" cy="207" r="5" fill="none" stroke="#585B70" stroke-width="1.2"/>
  <line x1="345" y1="204" x2="351" y2="210" stroke="#585B70" stroke-width="1"/>
  <line x1="351" y1="204" x2="345" y2="210" stroke="#585B70" stroke-width="1"/>
  <text x="358" y="212" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Autocompact buffer: 45.0k tokens (22.5%)</text>

  <!-- === Memory files section === -->
  <text y="290" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="13">
    <tspan x="30" fill="#CDD6F4" font-weight="bold">Memory files</tspan>
    <tspan fill="#6C7086"> · /memory</tspan>
  </text>
  <text x="44" y="312" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">~/.claude/CLAUDE.md: 431 tokens</tspan>
  </text>
  <text x="44" y="332" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">CLAUDE.md: 6.4k tokens</tspan>
  </text>

  <!-- === Skills section === -->
  <text y="366" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="13">
    <tspan x="30" fill="#CDD6F4" font-weight="bold">Skills</tspan>
    <tspan fill="#6C7086"> · /skills</tspan>
  </text>

  <!-- Project -->
  <text x="30" y="396" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">Project</text>
  <text x="44" y="416" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">document-end: 14 tokens</tspan>
  </text>
  <text x="44" y="436" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">git-quick: 13 tokens</tspan>
  </text>
  <text x="44" y="456" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">document-start: 12 tokens</tspan>
  </text>

  <!-- User -->
  <text x="30" y="490" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12" fill="#9399B2">User</text>
  <text x="44" y="510" font-family="'SF Mono', Menlo, Consolas, 'Courier New', monospace" font-size="12">
    <tspan fill="#6C7086">└ </tspan><tspan fill="#9399B2">cmd-git: 7 tokens</tspan>
  </text>
</svg>
